## Creating more realistic buffer distance pt. 2

> Assume I _do_ know the velocity of drone b. It is at some velocity, and once I
> check that velocity, it starts accelerating at the max acceleration. Depending
> on this information, dynamically change the $\Delta x$ equation so that the
> buffer distance is not as conservative. This should be fairly simple because I
> know the following things:
>
> - how long drone a's reversionary procedure will take
> - how far drone a will travel after the reversionary procedure has started
> - (after using basic kinematics) how far drone a will travel given its velocity
>   and acceleration

## 2024-05-06: a continuation of last week's journal (above)

Given that the drone will take this long to complete its reversionary procedure:
(from [this journal entry](2024-04-10.md))

$$\Delta x = v_x(\frac{T}{v_y} + \frac{3v_y}{2D})$$

We can make some conclusions. For example, if we know the velocity of drone b,
we can calculate how far apart the drones will be in the future.

The monitor will check the velocity of drone b once the reversionary procedure
begins, so to assume the worst possible scenario, we must assume that the drone
immediately begins accelerating at the max acceleration until it reaches the max
velocity and cannot keep acceleration. This is what that could look like in code:

$v_x$ is the maximum $x$ velocity of the drones.

```python
if t <= v_x / a:
        # During the acceleration phase (0 <= t <= v_x / a)
        delta_x = 0.5 * a * t**2
    else:
        # During the constant velocity phase (t > v_x / a)
        delta_x = v_x * t - 0.5 * (v_x**2) / a
```

To reduce this to one expression (which may or may not be needed), we can use
`max()` and `min()` (assuming we can use those...). Since $v_x=at$, the time it
will take for drone b to reach the max velocity is is $v_x/a$, where $v_x$ is
the max velocity, and a is the acceleration.

The combined position function can be expressed as:

$$
\Delta x = \frac{1}{2}a\times\text{min}(t, \frac{v_{max}}{a})^2 +
\text{max}(0, (t-\frac{v_{max}}{a}))
$$

We also know from this equation:

$$\Delta x = v_x(\frac{T}{v_y} + \frac{3v_y}{2D})$$

That the drone A needs $t= (\frac{T}{3v_y} + \frac{v_y}{2D})$ to complete its
reversionary procedure.

To put this all together, we can write that drone a and b must be this far apart
for the reversionary procedure to work:

> NOTE: I've had a realization that making the $x$ velocity for both drones
> constant is generally unrealistic. With this "more realistic" approach where I
> know drone B's velocity (its not constant), it would be stupid to _also_
> assume drone A's velocity is constant. I am still not 100% confident that my
> $\Delta x$ equation for drone a is correct (above)... WIP!
